---
title: "Getting Started with datalab"
author: "lut hasan"
date: "`r Sys.Date()`"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Getting Started with datalab}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r setup, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.width = 7,
  fig.height = 5
)
library(datalab)
```

# Introduction

Welcome to `datalab`! This package helps you explore and visualize data without worrying about complex coding. You can create beautiful charts and compute statistics with simple, easy-to-remember functions.

## Quick Start

### Step 1: Load Your Data

First, load your data and call it `data`:

```{r}
# Load the sample agriculture dataset
data(agriculture_data)
data <- agriculture_data
```

### Step 2: Explore Your Variables

See what's in your data:

```{r}
head(data)
```

### Step 3: Create Your First Chart

Make a line chart to see the relationship between two variables:

```{r}
linechart(nitrogen_content, crop_yield)
```

## More Examples

### Boxplots

Show the distribution of a single variable:

```{r}
# Load heart disease data
data(heart_data)
data <- heart_data

boxplot(age)
```

Compare groups:

```{r}
boxplot(age, group = 'sex')
```

### Histograms

See how your data is distributed:

```{r}
histogram(age)
```

Change the number of bins:

```{r}
histogram(age, bins = 20)
```

Add a density curve:

```{r}
histogram(cholesterol, bins = 25, show_density = TRUE)
```

### Scatter Plots

Explore relationships between two variables:

```{r}
scatterplot(age, resting_bp)
```

Add a trend line:

```{r}
scatterplot(age, cholesterol, trend_line = TRUE)
```

Color by groups:

```{r}
scatterplot(age, cholesterol, color = 'sex')
```

### Bar Charts

Compare categories:

```{r}
barchart(chest_pain_type)
```

Compare categories across groups:

```{r}
barchart(chest_pain_type, group = 'sex')
```

### Pie Charts

Show how categories are distributed:

```{r}
piechart(chest_pain_type)
```

Split by another variable to compare:

```{r}
piechart(chest_pain_type, 'sex')
```

### Descriptive Statistics

Get a summary of your variables:

```{r}
descriptives(age, resting_bp, cholesterol)
```

### Frequency Tables

Count how many times each value appears:

```{r}
frequencies(chest_pain_type)
```

### Compare Two Groups

Test if there's a significant difference between groups:

```{r}
compare_groups(age, sex)
```

```{r}
compare_groups(cholesterol, sex)
```

### Correlation Analysis

See if two variables are related:

```{r}
correlate(age, resting_bp)
```

```{r}
correlate(age, cholesterol)
```

## Tips for Workshop Participants

### Using Variables

You can assign variables to letters to make typing easier:

```{r eval=FALSE}
x = nitrogen_content
y = crop_yield
linechart(x, y)
```

### Changing Variables

Want to look at different variables? Just reassign:

```{r eval=FALSE}
a = chest_pain_type
b = age
piechart(a, b)
```

### Working with Your Own Data

To use your own data:

1. Load your data file (CSV or Excel)
2. Assign it to `data`
3. Use the functions as shown above

```{r eval=FALSE}
# For CSV files
data <- read.csv("myfile.csv")

# For Excel files (requires readxl package)
library(readxl)
data <- read_excel("myfile.xlsx")
```

## Common Problems and Solutions

### "Variable not found" error

**Problem:** You see an error like `Variable 'age' not found in data`

**Solution:** Check that:
- You spelled the variable name correctly
- You loaded the data and called it `data`
- The variable exists in your dataset

### "No data frame found" error

**Problem:** You see `No data frame found`

**Solution:** Make sure you loaded your data and assigned it to `data`:

```{r eval=FALSE}
data <- my_dataset
```

### Charts look cluttered

**Problem:** Too many categories in a pie chart

**Solution:** Use a frequency table first to see your data:

```{r}
frequencies(chest_pain_type)
```

Or use a bar chart instead:

```{r}
barchart(chest_pain_type)
```

### Understanding p-values

**Problem:** Not sure what the results mean

**Solution:**
- **p < 0.05** with ✓ = There IS a significant difference/relationship
- **p >= 0.05** with ✗ = There is NO significant difference/relationship

## One-Slide Demo Script (for Facilitators)

**Goal:** Show participants how to go from data to insight in 5 minutes

1. **Load data** (30 seconds)
   ```{r eval=FALSE}
   data(heart_data)
   data <- heart_data
   ```

2. **Look at data** (30 seconds)
   ```{r eval=FALSE}
   head(data)
   ```

3. **Make a chart** (1 minute)
   ```{r eval=FALSE}
   histogram(age, show_density = TRUE)
   ```

4. **Compare groups** (1 minute)
   ```{r eval=FALSE}
   boxplot(cholesterol, group = sex)
   ```

5. **Test difference** (1 minute)
   ```{r eval=FALSE}
   compare_groups(cholesterol, sex)
   ```

6. **Discuss insight** (1.5 minutes): "What story does this data tell?"

## Next Steps

Try these exercises on your own:

**Exercise 1:** Create a boxplot comparing cholesterol levels between males and females.

**Exercise 2:** Make a frequency table of chest pain types, sorted from most to least common.

**Exercise 3:** Create a line chart showing the relationship between age and resting blood pressure.

**Exercise 4:** Make a scatter plot of age vs cholesterol with a trend line. What does it show?

**Exercise 5:** Use `compare_groups()` to test if males and females have different average ages.

---

## Reference: All Available Functions

### Visualization Functions
- `linechart(x, y)` - Line chart
- `boxplot(var, group)` - Boxplot  
- `histogram(var, bins)` - Histogram
- `scatterplot(x, y, color, trend_line)` - Scatter plot
- `barchart(var, group)` - Bar chart
- `piechart(var, filter)` - Pie chart(s)

### Statistical Functions
- `descriptives(...)` - Summary statistics
- `frequencies(var)` - Frequency table
- `compare_groups(var, group)` - T-test comparing two groups
- `correlate(x, y)` - Correlation between two variables

### Common Parameters
- `data` - Your dataset (optional if named `data`)
- `title` - Custom chart title
- `group` / `color` / `filter` - Split data by categories
- `trend_line` / `smooth` - Add trend lines
- `bins` - Number of bins in histograms
- `show_density` - Add density curve to histograms

For help with any function, type `?function_name` (e.g., `?linechart`)

## Choosing the Right Chart

**For one continuous variable:**
- Use `histogram()` to see the shape of distribution
- Use `boxplot()` to see median and outliers

**For one categorical variable:**
- Use `barchart()` for comparing categories (2-10 categories)
- Use `piechart()` for showing proportions (2-5 categories)
- Use `frequencies()` for exact counts

**For two continuous variables:**
- Use `scatterplot()` to see patterns and relationships
- Use `linechart()` when one variable represents time

**For continuous + categorical:**
- Use `boxplot(var, group = ...)` to compare distributions
- Use `scatterplot(x, y, color = ...)` to see patterns by group

**For testing differences:**
- Use `compare_groups()` to test if two groups are different
- Use `correlate()` to measure relationship strength